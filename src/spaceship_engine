export default class{
	constructor(spaceship){
		this.spaceship = spaceship
	}

    turnOn(){
        this.checkCurrentLoad().then(percentLoad =>{
            console.log(`(${this.spaceship.name}) Partida autorizada: carga atual em ${percentLoad}%`)
        }).catch(percentLoad =>{
            console.log(`(${this.spaceship.name}) Partida nÃ£o autorizada. Carga atual em ${percentLoad}%`)
        })
    }

	checkCurrentLoad(){
		return new Promise((resolve, reject) => {
				let percentLoad = this.spaceship.percentLoad().toFixed(2)
				if(percentLoad>30){
					resolve(percentLoad)
				} else {
					reject(percentLoad)
				}
		})
	}
}